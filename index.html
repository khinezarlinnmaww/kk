
<!DOCTYPE html>

<html>

<head>

<title></title>

<p id="demo"></p>

</head>

<body onload="getData()">
   <h2>Currency Converter</h2>
   <table border="5" cellpadding="10" bgcolor="purple;">
       <form name="demo">
       <tr>
           <td>
    <input type="text" name="num" placeholder="Enter Amount"></input>
           </td>
       </tr>
 <tr>
   <td>
       <select id="currencyType" style="width: 165px; margin-right: 30px;">

       </select>
   </td>
</tr>
<tr>
   <td>
       <input type="text" name="res" placeholder="Myanmar Kyat" ></input>
   </td>
</tr>
<tr>
 <td><input type="button" value="result"  onclick="show()" style="width: 150px; color:red;"></input></td>
</tr>
</form>
</table>

<script type="text/javascript">
 
function getData(){
   $.ajax({
               url         : "http://forex.cbm.gov.mm/api/latest",
               type        : "POST",
               contentType : "application/json",
               dataType    : "json",
               processData : false,
               cache       : false,
               // data         : JSON.stringify(myobj)
           }).done(function( msg ) {
               console.log(msg);
               var data = msg.rates;
               $.each(data, function(key, value) {
                    $('#currencyType')
                         .append($('<option>', { value : key })
                         .text(key));
               });
               // for (var i = 0; i < arr.length; i++) {

               //     // document.write("<select name="+arr[i]+">");

               //     document.write("<option value="+arr[i]+">" + arr[i] + "</option>");

               //     //console.log(arr[i]);

               // }
           });

}
function show(){

   var e = document.getElementById("currencyType");
   var cur = e.options[e.selectedIndex].value;
   $.ajax({
               url         : "http://forex.cbm.gov.mm/api/latest",

               type        : "POST",

               contentType : "application/json",

               dataType    : "json",

               processData : false,

               cache       : false,

               // data         : JSON.stringify(myobj)

       }).done(function( msg ) {

               console.log(msg);
              // console.log('here'+ msg['rate'][cur]);
               var e = document.getElementById("currencyType");
               var cur = e.options[e.selectedIndex].value;
               var data = msg.rates;
               var todayRate = msg['rates'][cur];
               todayRate = parseFloat(todayRate.replace(/,/g, ''));
               if (cur === "JPY"|| cur === "VND" || cur === "KRW" || cur === "KHR" || cur === "IDR" || cur === "LAK" ){

               todayRate = parseInt(todayRate) / 100;
               var  result =parseInt(todayRate) * parseInt(num);
              // document.getElementById("demo").innerHTML="result";
               console.log(todayRate);
               }

               var num = parseInt(document.demo.num.value);
               console.log('num' +num);

               var values =parseInt(num) * parseInt(todayRate);
               console.log('values'+values);

               document.demo.res.value =values;

              //$('#response').html( JSON.stringify(data) );
    });

}
sss</script>
<script src="http://code.jquery.com/jquery-3.3.1.min.js"></script>

</body>

</html>